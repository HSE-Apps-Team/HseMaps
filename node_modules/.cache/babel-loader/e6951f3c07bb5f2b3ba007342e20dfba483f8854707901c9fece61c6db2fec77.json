{"ast":null,"code":"import { CoreService } from '../services/CoreService.js';\nimport { RenderingModule } from './RenderingModule.js';\nimport { DOMCache } from './DOMCache.js';\nimport { Config } from '../config/config.js';\nimport { ScheduleManager } from './ScheduleManager.js';\nimport { NavigationController } from './NavigationController.js';\nimport mainFloorImage from '../elements/mainfloorcrunched.png';\nimport combFloorImage from '../elements/combscaled.png';\n\n/**\r\n * @module EventHandlingModule\r\n * @description Simplified event handling for user interactions\r\n */\nexport const EventHandlingModule = {\n  /**\r\n   * @function displayNextClass\r\n   * @description Displays the next class from schedule\r\n   */\n  displayNextClass() {\n    try {\n      // Get schedule from CoreService or directly from ScheduleManager\n      let schedule = CoreService.getState('schedule');\n\n      // If no schedule is in state, get it from ScheduleManager\n      if (!schedule || !Array.isArray(schedule) || schedule.length === 0) {\n        schedule = ScheduleManager.getCurrentSchedule();\n        // Store for future use\n        CoreService.setState('schedule', schedule);\n      }\n      if (!schedule || !schedule.length) {\n        console.log(\"No schedule available\");\n        return false;\n      }\n\n      // Find the next class\n      const now = new Date();\n      const nextClass = schedule.find(cls => new Date(cls.startTime) > now) || schedule[0];\n      if (nextClass && nextClass.room) {\n        // Set room in UI and prepare navigation\n        const startInput = document.getElementById(\"start\");\n        const endInput = document.getElementById(\"end\");\n        if (startInput && endInput) {\n          // Use current location as start if available, otherwise use a default\n          const currentLocation = CoreService.getState('currentLocation') || \"MAIN\";\n          startInput.value = currentLocation;\n          endInput.value = nextClass.room;\n\n          // Trigger navigation if auto-navigate is enabled\n          if (CoreService.getState('autoNavigate')) {\n            this.handlePathRequest();\n          }\n          return true;\n        }\n      }\n      return false;\n    } catch (error) {\n      console.error(\"Error displaying next class:\", error);\n      return false;\n    }\n  },\n  /**\r\n   * @function markShortestPath\r\n   * @async\r\n   * @description Calculates and displays the shortest path between selected rooms\r\n   * @returns {Promise<boolean>} Success status of the operation\r\n   */\n  async markShortestPath() {\n    try {\n      var _document$getElementB, _document$getElementB2, _document$getElementB3, _document$getElementB4;\n      const start = (_document$getElementB = document.getElementById(\"start\")) === null || _document$getElementB === void 0 ? void 0 : (_document$getElementB2 = _document$getElementB.value) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.toUpperCase();\n      const end = (_document$getElementB3 = document.getElementById(\"end\")) === null || _document$getElementB3 === void 0 ? void 0 : (_document$getElementB4 = _document$getElementB3.value) === null || _document$getElementB4 === void 0 ? void 0 : _document$getElementB4.toUpperCase();\n\n      // Use our existing path finding logic\n      return await this.handlePathRequest(start, end);\n    } catch (error) {\n      console.error(\"Error marking shortest path:\", error);\n      alert(\"Failed to calculate path. Please try again.\");\n      RenderingModule.refresh();\n      return false;\n    }\n  },\n  /**\r\n   * @function handlePathRequest\r\n   * @async\r\n   * @description Processes navigation requests between rooms\r\n   * @param {string} [startOverride] - Optional start location override\r\n   * @param {string} [endOverride] - Optional end location override\r\n   * @returns {Promise<boolean>} Success status of the operation\r\n   */\n  async handlePathRequest(startOverride, endOverride) {\n    var _document$getElementB5, _document$getElementB6, _document$getElementB7, _document$getElementB8;\n    // Get room values from input fields or use provided overrides\n    const start = startOverride || ((_document$getElementB5 = document.getElementById(\"start\")) === null || _document$getElementB5 === void 0 ? void 0 : (_document$getElementB6 = _document$getElementB5.value) === null || _document$getElementB6 === void 0 ? void 0 : _document$getElementB6.toUpperCase());\n    const end = endOverride || ((_document$getElementB7 = document.getElementById(\"end\")) === null || _document$getElementB7 === void 0 ? void 0 : (_document$getElementB8 = _document$getElementB7.value) === null || _document$getElementB8 === void 0 ? void 0 : _document$getElementB8.toUpperCase());\n    const result = await CoreService.findPath(start, end);\n    if (!result.success) {\n      alert(result.error);\n      RenderingModule.refresh();\n      return false;\n    }\n    try {\n      // Use NavigationController to initialize and render the path\n      // instead of the non-existent RenderingModule.renderPath method\n      NavigationController.initializePath(result.path);\n      CoreService.setState('pathProgress', 0);\n      this.initializeAgentMovement();\n      return true;\n    } catch (error) {\n      console.error(\"Failed to render path:\", error);\n      RenderingModule.refresh();\n      return false;\n    }\n  },\n  /**\r\n   * @function initializeAgentMovement\r\n   * @description Sets up agent for path following\r\n   */\n  initializeAgentMovement() {\n    // Clear any existing animation\n    if (CoreService.getState('animationId')) {\n      cancelAnimationFrame(CoreService.getState('animationId'));\n    }\n\n    // Initialize position\n    CoreService.updateAgentPosition(0);\n\n    // Center view on agent\n    const agentElement = DOMCache[Config.SVG.SELECTORS.AGENT];\n    if (agentElement) {\n      this.centerViewOnElement(agentElement);\n    }\n  },\n  /**\r\n   * @function centerViewOnElement\r\n   * @description Centers the viewport on a specific element\r\n   * @param {Element} element - DOM element to center on\r\n   */\n  centerViewOnElement(element) {\n    if (!element) return;\n    const svgdiv = DOMCache[Config.SVG.SELECTORS.SVGDIV];\n    if (!svgdiv) return;\n    const rect = element.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n    svgdiv.scrollLeft = centerX - svgdiv.clientWidth / 2;\n    svgdiv.scrollTop = centerY - svgdiv.clientHeight / 2;\n  },\n  /**\r\n   * @function setupEventListeners\r\n   * @description Initializes all event listeners for UI interactions\r\n   */\n  setupEventListeners() {\n    // Navigation button\n    const navButton = document.getElementById('navigate-button');\n    if (navButton) {\n      navButton.addEventListener('click', () => this.handlePathRequest());\n    }\n\n    // Floor switch buttons\n    const mainFloorBtn = document.getElementById('main-floor-btn');\n    const combFloorBtn = document.getElementById('comb-floor-btn');\n    if (mainFloorBtn) {\n      mainFloorBtn.addEventListener('click', () => {\n        RenderingModule.switchFloor('main', mainFloorImage);\n      });\n    }\n    if (combFloorBtn) {\n      combFloorBtn.addEventListener('click', () => {\n        RenderingModule.switchFloor('comb', combFloorImage);\n      });\n    }\n\n    // Schedule button\n    const scheduleBtn = document.getElementById('schedule-btn');\n    if (scheduleBtn) {\n      scheduleBtn.addEventListener('click', () => this.displayNextClass());\n    }\n  }\n};","map":{"version":3,"names":["CoreService","RenderingModule","DOMCache","Config","ScheduleManager","NavigationController","mainFloorImage","combFloorImage","EventHandlingModule","displayNextClass","schedule","getState","Array","isArray","length","getCurrentSchedule","setState","console","log","now","Date","nextClass","find","cls","startTime","room","startInput","document","getElementById","endInput","currentLocation","value","handlePathRequest","error","markShortestPath","_document$getElementB","_document$getElementB2","_document$getElementB3","_document$getElementB4","start","toUpperCase","end","alert","refresh","startOverride","endOverride","_document$getElementB5","_document$getElementB6","_document$getElementB7","_document$getElementB8","result","findPath","success","initializePath","path","initializeAgentMovement","cancelAnimationFrame","updateAgentPosition","agentElement","SVG","SELECTORS","AGENT","centerViewOnElement","element","svgdiv","SVGDIV","rect","getBoundingClientRect","centerX","left","width","centerY","top","height","scrollLeft","clientWidth","scrollTop","clientHeight","setupEventListeners","navButton","addEventListener","mainFloorBtn","combFloorBtn","switchFloor","scheduleBtn"],"sources":["C:/Users/rexrt/Downloads/hsenavrepo/HseMaps/src/modules/EventHandlingModule.js"],"sourcesContent":["import { CoreService } from '../services/CoreService.js';\r\nimport { RenderingModule } from './RenderingModule.js';\r\nimport { DOMCache } from './DOMCache.js';\r\nimport { Config } from '../config/config.js';\r\nimport { ScheduleManager } from './ScheduleManager.js';\r\nimport { NavigationController } from './NavigationController.js';\r\nimport mainFloorImage from '../elements/mainfloorcrunched.png';\r\nimport combFloorImage from '../elements/combscaled.png';\r\n\r\n/**\r\n * @module EventHandlingModule\r\n * @description Simplified event handling for user interactions\r\n */\r\nexport const EventHandlingModule = {\r\n    /**\r\n     * @function displayNextClass\r\n     * @description Displays the next class from schedule\r\n     */\r\n    displayNextClass() {\r\n        try {\r\n            // Get schedule from CoreService or directly from ScheduleManager\r\n            let schedule = CoreService.getState('schedule');\r\n            \r\n            // If no schedule is in state, get it from ScheduleManager\r\n            if (!schedule || !Array.isArray(schedule) || schedule.length === 0) {\r\n                schedule = ScheduleManager.getCurrentSchedule();\r\n                // Store for future use\r\n                CoreService.setState('schedule', schedule);\r\n            }\r\n            \r\n            if (!schedule || !schedule.length) {\r\n                console.log(\"No schedule available\");\r\n                return false;\r\n            }\r\n            \r\n            // Find the next class\r\n            const now = new Date();\r\n            const nextClass = schedule.find(cls => new Date(cls.startTime) > now) || schedule[0];\r\n            \r\n            if (nextClass && nextClass.room) {\r\n                // Set room in UI and prepare navigation\r\n                const startInput = document.getElementById(\"start\");\r\n                const endInput = document.getElementById(\"end\");\r\n                \r\n                if (startInput && endInput) {\r\n                    // Use current location as start if available, otherwise use a default\r\n                    const currentLocation = CoreService.getState('currentLocation') || \"MAIN\";\r\n                    startInput.value = currentLocation;\r\n                    endInput.value = nextClass.room;\r\n                    \r\n                    // Trigger navigation if auto-navigate is enabled\r\n                    if (CoreService.getState('autoNavigate')) {\r\n                        this.handlePathRequest();\r\n                    }\r\n                    \r\n                    return true;\r\n                }\r\n            }\r\n            \r\n            return false;\r\n        } catch (error) {\r\n            console.error(\"Error displaying next class:\", error);\r\n            return false;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @function markShortestPath\r\n     * @async\r\n     * @description Calculates and displays the shortest path between selected rooms\r\n     * @returns {Promise<boolean>} Success status of the operation\r\n     */\r\n    async markShortestPath() {\r\n        try {\r\n            const start = document.getElementById(\"start\")?.value?.toUpperCase();\r\n            const end = document.getElementById(\"end\")?.value?.toUpperCase();\r\n            \r\n            // Use our existing path finding logic\r\n            return await this.handlePathRequest(start, end);\r\n        } catch (error) {\r\n            console.error(\"Error marking shortest path:\", error);\r\n            alert(\"Failed to calculate path. Please try again.\");\r\n            RenderingModule.refresh();\r\n            return false;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @function handlePathRequest\r\n     * @async\r\n     * @description Processes navigation requests between rooms\r\n     * @param {string} [startOverride] - Optional start location override\r\n     * @param {string} [endOverride] - Optional end location override\r\n     * @returns {Promise<boolean>} Success status of the operation\r\n     */\r\n    async handlePathRequest(startOverride, endOverride) {\r\n        // Get room values from input fields or use provided overrides\r\n        const start = startOverride || document.getElementById(\"start\")?.value?.toUpperCase();\r\n        const end = endOverride || document.getElementById(\"end\")?.value?.toUpperCase();\r\n        \r\n        const result = await CoreService.findPath(start, end);\r\n        \r\n        if (!result.success) {\r\n            alert(result.error);\r\n            RenderingModule.refresh();\r\n            return false;\r\n        }\r\n        \r\n        try {\r\n            // Use NavigationController to initialize and render the path\r\n            // instead of the non-existent RenderingModule.renderPath method\r\n            NavigationController.initializePath(result.path);\r\n            CoreService.setState('pathProgress', 0);\r\n            this.initializeAgentMovement();\r\n            return true;\r\n        } catch (error) {\r\n            console.error(\"Failed to render path:\", error);\r\n            RenderingModule.refresh();\r\n            return false;\r\n        }\r\n    },\r\n    \r\n    /**\r\n     * @function initializeAgentMovement\r\n     * @description Sets up agent for path following\r\n     */\r\n    initializeAgentMovement() {\r\n        // Clear any existing animation\r\n        if (CoreService.getState('animationId')) {\r\n            cancelAnimationFrame(CoreService.getState('animationId'));\r\n        }\r\n        \r\n        // Initialize position\r\n        CoreService.updateAgentPosition(0);\r\n        \r\n        // Center view on agent\r\n        const agentElement = DOMCache[Config.SVG.SELECTORS.AGENT];\r\n        if (agentElement) {\r\n            this.centerViewOnElement(agentElement);\r\n        }\r\n    },\r\n    \r\n    /**\r\n     * @function centerViewOnElement\r\n     * @description Centers the viewport on a specific element\r\n     * @param {Element} element - DOM element to center on\r\n     */\r\n    centerViewOnElement(element) {\r\n        if (!element) return;\r\n        \r\n        const svgdiv = DOMCache[Config.SVG.SELECTORS.SVGDIV];\r\n        if (!svgdiv) return;\r\n        \r\n        const rect = element.getBoundingClientRect();\r\n        const centerX = rect.left + rect.width / 2;\r\n        const centerY = rect.top + rect.height / 2;\r\n        \r\n        svgdiv.scrollLeft = centerX - svgdiv.clientWidth / 2;\r\n        svgdiv.scrollTop = centerY - svgdiv.clientHeight / 2;\r\n    },\r\n    \r\n    /**\r\n     * @function setupEventListeners\r\n     * @description Initializes all event listeners for UI interactions\r\n     */\r\n    setupEventListeners() {\r\n        // Navigation button\r\n        const navButton = document.getElementById('navigate-button');\r\n        if (navButton) {\r\n            navButton.addEventListener('click', () => this.handlePathRequest());\r\n        }\r\n        \r\n        // Floor switch buttons\r\n        const mainFloorBtn = document.getElementById('main-floor-btn');\r\n        const combFloorBtn = document.getElementById('comb-floor-btn');\r\n        \r\n        if (mainFloorBtn) {\r\n            mainFloorBtn.addEventListener('click', () => {\r\n                RenderingModule.switchFloor('main', mainFloorImage);\r\n            });\r\n        }\r\n        \r\n        if (combFloorBtn) {\r\n            combFloorBtn.addEventListener('click', () => {\r\n                RenderingModule.switchFloor('comb', combFloorImage);\r\n            });\r\n        }\r\n        \r\n        // Schedule button\r\n        const scheduleBtn = document.getElementById('schedule-btn');\r\n        if (scheduleBtn) {\r\n            scheduleBtn.addEventListener('click', () => this.displayNextClass());\r\n        }\r\n    }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}