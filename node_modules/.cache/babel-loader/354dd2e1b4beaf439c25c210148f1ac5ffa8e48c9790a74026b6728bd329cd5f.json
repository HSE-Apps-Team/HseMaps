{"ast":null,"code":"import { StateManager } from './StateManager.js';\nimport { RenderingModule } from './RenderingModule.js';\nimport { UtilityModule } from './UtilityModule.js';\nimport { DOMCache } from './DOMCache.js';\nimport { Config } from '../config/config.js';\n\n/**\r\n * EventHandlingModule - Manages UI event handling and synchronization\r\n * Coordinates scroll position, slider value, and agent movement\r\n * \r\n * @module EventHandlingModule\r\n */\nexport const EventHandlingModule = {\n  markShortestPathFromInput() {\n    RenderingModule.refresh();\n    const progbar = DOMCache[Config.SVG.SELECTORS.PROGBAR];\n    const scroll = DOMCache[Config.SVG.SELECTORS.SCROLL];\n    if (progbar && scroll) {\n      progbar.value = 0;\n      scroll.scrollTop = 0;\n    }\n    const start = document.getElementById(\"start\").value.toUpperCase();\n    const end = document.getElementById(\"end\").value.toUpperCase();\n    UtilityModule.markShortestPath(start, end);\n    UtilityModule.configureScroll();\n  },\n  updateSliderValue() {\n    const slider = DOMCache[Config.SVG.SELECTORS.PROGBAR];\n    const scroll = DOMCache[Config.SVG.SELECTORS.SCROLL];\n    if (slider && scroll) {\n      slider.value = scroll.scrollTop;\n      UtilityModule.updateAgent();\n    }\n  },\n  initializeEventListeners() {\n    // Wait for next tick to ensure DOM is ready\n    setTimeout(() => {\n      const scroll = document.getElementById('scroll');\n      const progbar = document.getElementById('progbar');\n      if (scroll && progbar) {\n        scroll.onscroll = this.updateSliderValue;\n        progbar.oninput = () => UtilityModule.updateAgent();\n      } else {\n        console.warn('Navigation controls not found');\n      }\n    }, 0);\n  }\n};\n\n/**\r\n * Event Bindings\r\n * Connects DOM events to handler functions\r\n * \r\n * @example Scroll Event\r\n * // When user scrolls the container:\r\n * scroll.onscroll -> updateSliderValue() -> UtilityModule.updateAgent()\r\n * \r\n * @example Slider Input\r\n * // When user moves the slider:\r\n * progbar.oninput -> UtilityModule.updateAgent()\r\n */\n\n// Direct scroll event binding\ndocument.getElementById(\"scroll\").onscroll = () => EventHandlingModule.updateSliderValue();\n\n// Direct slider input binding\ndocument.getElementById(\"progbar\").oninput = () => UtilityModule.updateAgent();\n\n/**\r\n * Updates the body's data-theme attribute based on the selected theme\r\n * \r\n * @example\r\n * // When user selects \"dark\" from the theme dropdown:\r\n * // themeDropdown.value = \"dark\"\r\n * // -> sets document.body.dataset.theme = \"dark\"\r\n */\nfunction updateTheme() {\n  const themeDropdown = document.getElementById(\"theme-dropdown\");\n  const selectedTheme = themeDropdown.value;\n  document.body.dataset.theme = selectedTheme;\n}\n\n// Bind theme dropdown change event to updateTheme function\ndocument.getElementById(\"theme-dropdown\").onchange = updateTheme;","map":{"version":3,"names":["StateManager","RenderingModule","UtilityModule","DOMCache","Config","EventHandlingModule","markShortestPathFromInput","refresh","progbar","SVG","SELECTORS","PROGBAR","scroll","SCROLL","value","scrollTop","start","document","getElementById","toUpperCase","end","markShortestPath","configureScroll","updateSliderValue","slider","updateAgent","initializeEventListeners","setTimeout","onscroll","oninput","console","warn","updateTheme","themeDropdown","selectedTheme","body","dataset","theme","onchange"],"sources":["C:/Users/rexrt/Downloads/hsenavrepo/HseMaps/src/modules/EventHandlingModule.js"],"sourcesContent":["import { StateManager } from './StateManager.js';\r\nimport { RenderingModule } from './RenderingModule.js';\r\nimport { UtilityModule } from './UtilityModule.js';\r\nimport { DOMCache } from './DOMCache.js';\r\nimport { Config } from '../config/config.js';\r\n\r\n/**\r\n * EventHandlingModule - Manages UI event handling and synchronization\r\n * Coordinates scroll position, slider value, and agent movement\r\n * \r\n * @module EventHandlingModule\r\n */\r\nexport const EventHandlingModule = {\r\n    markShortestPathFromInput() {\r\n        RenderingModule.refresh();\r\n        const progbar = DOMCache[Config.SVG.SELECTORS.PROGBAR];\r\n        const scroll = DOMCache[Config.SVG.SELECTORS.SCROLL];\r\n        if (progbar && scroll) {\r\n            progbar.value = 0;\r\n            scroll.scrollTop = 0;\r\n        }\r\n        const start = document.getElementById(\"start\").value.toUpperCase();\r\n        const end = document.getElementById(\"end\").value.toUpperCase();\r\n        UtilityModule.markShortestPath(start, end);\r\n        UtilityModule.configureScroll();\r\n    },\r\n\r\n    updateSliderValue() {\r\n        const slider = DOMCache[Config.SVG.SELECTORS.PROGBAR];\r\n        const scroll = DOMCache[Config.SVG.SELECTORS.SCROLL];\r\n        if (slider && scroll) {\r\n            slider.value = scroll.scrollTop;\r\n            UtilityModule.updateAgent();\r\n        }\r\n    },\r\n\r\n    initializeEventListeners() {\r\n        // Wait for next tick to ensure DOM is ready\r\n        setTimeout(() => {\r\n            const scroll = document.getElementById('scroll');\r\n            const progbar = document.getElementById('progbar');\r\n            \r\n            if (scroll && progbar) {\r\n                scroll.onscroll = this.updateSliderValue;\r\n                progbar.oninput = () => UtilityModule.updateAgent();\r\n            } else {\r\n                console.warn('Navigation controls not found');\r\n            }\r\n        }, 0);\r\n    }\r\n};\r\n\r\n/**\r\n * Event Bindings\r\n * Connects DOM events to handler functions\r\n * \r\n * @example Scroll Event\r\n * // When user scrolls the container:\r\n * scroll.onscroll -> updateSliderValue() -> UtilityModule.updateAgent()\r\n * \r\n * @example Slider Input\r\n * // When user moves the slider:\r\n * progbar.oninput -> UtilityModule.updateAgent()\r\n */\r\n\r\n// Direct scroll event binding\r\ndocument.getElementById(\"scroll\").onscroll = () => EventHandlingModule.updateSliderValue();\r\n\r\n// Direct slider input binding\r\ndocument.getElementById(\"progbar\").oninput = () => UtilityModule.updateAgent();\r\n\r\n/**\r\n * Updates the body's data-theme attribute based on the selected theme\r\n * \r\n * @example\r\n * // When user selects \"dark\" from the theme dropdown:\r\n * // themeDropdown.value = \"dark\"\r\n * // -> sets document.body.dataset.theme = \"dark\"\r\n */\r\nfunction updateTheme() {\r\n    const themeDropdown = document.getElementById(\"theme-dropdown\");\r\n    const selectedTheme = themeDropdown.value;\r\n    document.body.dataset.theme = selectedTheme;\r\n}\r\n\r\n// Bind theme dropdown change event to updateTheme function\r\ndocument.getElementById(\"theme-dropdown\").onchange = updateTheme;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}