{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rexrt\\\\Downloads\\\\hsenavrepo\\\\HseMaps\\\\src\\\\modules\\\\StateManager.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { createContext, useContext, useReducer } from 'react';\n\n/**\r\n * @module StateManager\r\n * @description Manages global application state with data validation using a Proxy pattern.\r\n * Provides centralized state management with validation rules for critical path properties.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  totalDistance: 0,\n  firstPathRendered: true,\n  secondPathRendered: false,\n  currentFloor: 'main',\n  iterator: 1,\n  path: [],\n  distanceDomain: [],\n  currentPathSegment: null,\n  maskedImages: null\n};\nconst StateContext = /*#__PURE__*/createContext(null);\nconst StateDispatchContext = /*#__PURE__*/createContext(null);\nfunction stateReducer(state, action) {\n  switch (action.type) {\n    case 'SET_PATH':\n      return {\n        ...state,\n        path: Array.isArray(action.payload) ? action.payload : []\n      };\n    case 'SET_FLOOR':\n      return {\n        ...state,\n        secondPathRendered: action.payload,\n        currentFloor: action.payload ? 'second' : 'main'\n      };\n    case 'SET_DISTANCE':\n      return {\n        ...state,\n        totalDistance: typeof action.payload === 'number' && action.payload >= 0 ? action.payload : state.totalDistance\n      };\n    default:\n      return state;\n  }\n}\nexport function StateProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(stateReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(StateContext.Provider, {\n    value: state,\n    children: /*#__PURE__*/_jsxDEV(StateDispatchContext.Provider, {\n      value: dispatch,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(StateProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = StateProvider;\nexport function useState() {\n  _s2();\n  return useContext(StateContext);\n}\n_s2(useState, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function useStateDispatch() {\n  _s3();\n  return useContext(StateDispatchContext);\n}\n_s3(useStateDispatch, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"StateProvider\");","map":{"version":3,"names":["createContext","useContext","useReducer","jsxDEV","_jsxDEV","initialState","totalDistance","firstPathRendered","secondPathRendered","currentFloor","iterator","path","distanceDomain","currentPathSegment","maskedImages","StateContext","StateDispatchContext","stateReducer","state","action","type","Array","isArray","payload","StateProvider","children","_s","dispatch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useState","_s2","useStateDispatch","_s3","$RefreshReg$"],"sources":["C:/Users/rexrt/Downloads/hsenavrepo/HseMaps/src/modules/StateManager.js"],"sourcesContent":["import { createContext, useContext, useReducer } from 'react';\r\n\r\n/**\r\n * @module StateManager\r\n * @description Manages global application state with data validation using a Proxy pattern.\r\n * Provides centralized state management with validation rules for critical path properties.\r\n */\r\n\r\nconst initialState = {\r\n    totalDistance: 0,\r\n    firstPathRendered: true,\r\n    secondPathRendered: false,\r\n    currentFloor: 'main',\r\n    iterator: 1,\r\n    path: [],\r\n    distanceDomain: [],\r\n    currentPathSegment: null,\r\n    maskedImages: null\r\n};\r\n\r\nconst StateContext = createContext(null);\r\nconst StateDispatchContext = createContext(null);\r\n\r\nfunction stateReducer(state, action) {\r\n    switch (action.type) {\r\n        case 'SET_PATH':\r\n            return { ...state, path: Array.isArray(action.payload) ? action.payload : [] };\r\n        case 'SET_FLOOR':\r\n            return { \r\n                ...state, \r\n                secondPathRendered: action.payload,\r\n                currentFloor: action.payload ? 'second' : 'main'\r\n            };\r\n        case 'SET_DISTANCE':\r\n            return { \r\n                ...state, \r\n                totalDistance: typeof action.payload === 'number' && action.payload >= 0 \r\n                    ? action.payload : state.totalDistance \r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function StateProvider({ children }) {\r\n    const [state, dispatch] = useReducer(stateReducer, initialState);\r\n    \r\n    return (\r\n        <StateContext.Provider value={state}>\r\n            <StateDispatchContext.Provider value={dispatch}>\r\n                {children}\r\n            </StateDispatchContext.Provider>\r\n        </StateContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useState() {\r\n    return useContext(StateContext);\r\n}\r\n\r\nexport function useStateDispatch() {\r\n    return useContext(StateDispatchContext);\r\n}"],"mappings":";;;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,UAAU,QAAQ,OAAO;;AAE7D;AACA;AACA;AACA;AACA;AAJA,SAAAC,MAAA,IAAAC,OAAA;AAMA,MAAMC,YAAY,GAAG;EACjBC,aAAa,EAAE,CAAC;EAChBC,iBAAiB,EAAE,IAAI;EACvBC,kBAAkB,EAAE,KAAK;EACzBC,YAAY,EAAE,MAAM;EACpBC,QAAQ,EAAE,CAAC;EACXC,IAAI,EAAE,EAAE;EACRC,cAAc,EAAE,EAAE;EAClBC,kBAAkB,EAAE,IAAI;EACxBC,YAAY,EAAE;AAClB,CAAC;AAED,MAAMC,YAAY,gBAAGf,aAAa,CAAC,IAAI,CAAC;AACxC,MAAMgB,oBAAoB,gBAAGhB,aAAa,CAAC,IAAI,CAAC;AAEhD,SAASiB,YAAYA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACjC,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,UAAU;MACX,OAAO;QAAE,GAAGF,KAAK;QAAEP,IAAI,EAAEU,KAAK,CAACC,OAAO,CAACH,MAAM,CAACI,OAAO,CAAC,GAAGJ,MAAM,CAACI,OAAO,GAAG;MAAG,CAAC;IAClF,KAAK,WAAW;MACZ,OAAO;QACH,GAAGL,KAAK;QACRV,kBAAkB,EAAEW,MAAM,CAACI,OAAO;QAClCd,YAAY,EAAEU,MAAM,CAACI,OAAO,GAAG,QAAQ,GAAG;MAC9C,CAAC;IACL,KAAK,cAAc;MACf,OAAO;QACH,GAAGL,KAAK;QACRZ,aAAa,EAAE,OAAOa,MAAM,CAACI,OAAO,KAAK,QAAQ,IAAIJ,MAAM,CAACI,OAAO,IAAI,CAAC,GAClEJ,MAAM,CAACI,OAAO,GAAGL,KAAK,CAACZ;MACjC,CAAC;IACL;MACI,OAAOY,KAAK;EACpB;AACJ;AAEA,OAAO,SAASM,aAAaA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACxC,MAAM,CAACR,KAAK,EAAES,QAAQ,CAAC,GAAGzB,UAAU,CAACe,YAAY,EAAEZ,YAAY,CAAC;EAEhE,oBACID,OAAA,CAACW,YAAY,CAACa,QAAQ;IAACC,KAAK,EAAEX,KAAM;IAAAO,QAAA,eAChCrB,OAAA,CAACY,oBAAoB,CAACY,QAAQ;MAACC,KAAK,EAAEF,QAAS;MAAAF,QAAA,EAC1CA;IAAQ;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACkB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACb,CAAC;AAEhC;AAACP,EAAA,CAVeF,aAAa;AAAAU,EAAA,GAAbV,aAAa;AAY7B,OAAO,SAASW,QAAQA,CAAA,EAAG;EAAAC,GAAA;EACvB,OAAOnC,UAAU,CAACc,YAAY,CAAC;AACnC;AAACqB,GAAA,CAFeD,QAAQ;AAIxB,OAAO,SAASE,gBAAgBA,CAAA,EAAG;EAAAC,GAAA;EAC/B,OAAOrC,UAAU,CAACe,oBAAoB,CAAC;AAC3C;AAACsB,GAAA,CAFeD,gBAAgB;AAAA,IAAAH,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}